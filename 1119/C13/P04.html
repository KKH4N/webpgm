<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오디오 재생</title>
</head>
<body>
    <h3>오디오 재생</h3>
    <p>듣고 싶은 곡은 선택하고 시작 버튼을 누르면 연속하여 자동 연주합니다.</p><hr>
    <audio id="audio" controls></audio><br>
    <input type="checkbox" value="Aegukga.mp3"> 애국가 <br>
    <input type="checkbox" value="MoonGlow.mp3"> Moon Glow <br>
    <input type="checkbox" value="EmbraceableYou.mp3"> Embraceable You <br>
    <input type="checkbox" value="Aegukga.mp3"> 애국가 <br>
    <button type="button" onclick="play()">연주시작</button>
    <script>
        let audio = document.getElementById("audio");
        function play(){
            let arr = new Array();
            let song = document.getElementsByTagName("input");
            for(let i=0;i<song.length;i++){
                if(song[i].checked) arr.push(song[i].value);
            }
            playarr(arr,0);
        }
        function playarr(arr,num){
            if(num<arr.length){
                audio.src = arr[num];
                audio.play();
                audio.addEventListener("ended", function() {
                    playarr(arr,num+1);
                });
            }
        }
    </script>
</body>
</html>